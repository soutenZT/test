<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>props</title>
    <script src="../js/vue.min.js"></script>
</head>
<body>
    <div id="mydiv">
    <!-- props大小写 -->
        <!-- 组件定义的是驼峰命名的aB，使用的时候a-b -->
        <!-- <component-a post-title="jaja"></component-a> -->
    
    <!-- props静态或动态 -->
        <!-- 即便 `20` 是静态的，我们仍然需要 `v-bind` 来告诉 Vue -->
        <!-- 这是一个 JavaScript 表达式而不是一个字符串。-->
        <!-- <component-a v-bind:likes="20"></component-a> -->
        <!-- 动态传值 -->
        <!-- <component-a v-bind:likes="likes"></component-a> -->

        <!-- boolean 默认是false -->
        <!-- <component-a isPublished></component-a> -->

    　　<h2>propsのバリデーション</h2>
        <!-- <compoent-a :propC="20"></compoent-a> -->

        <h2>既存の属性への置換とマージ</h2>
        <p>ほとんどの属性においては、コンポーネント側の値が、コンポーネントに受け渡された値へと置換されます。
            たとえば、 type="text" を渡すと、 type="date" は置き換えられ、
            そして壊れてしまうでしょう！幸運なことに、
             class および style 属性は少しスマートに作られていますので、両方の値がマージされ、
             最終的な値は form-control date-picker-theme-dark となります。</p>
    </div>
    <script>
        function Person(firstName, lastName){
            this.firstName = firstName;
            this.lastName = lastName;
        }
        Vue.component("component-a",{
            //props:["postTitle"],
             //给props每个prop指定类型
            props:{
                //文字列型を必要で要求する
                title:{
                    tyepe:String,
                    required:false
                },
                //複数の型の許容
                likes:[String,Number],
                //デフォルト値つきの数値型
                propC:{
                    type:Number,
                    default:100
                },
                //デフォルト値付きのオブジェクト型
                propD:{
                    type:Object,
                    default:function(){
                        return {message:"hello"}
                    }
                },
                //カスタマイズしたバリデーション関数
                ProF:{
                    validator:function(value){
                        //プロパティの値は、必ずいずれかの文字列でなかればならない
                        return ['success','warning','danger'].indexOf(value) !== -1
                    }
                },
                //更に　type はカスタムコンストラクタ関数でもあり、instanceof によるアサーションを行います
                author:Person, //new person によって作成されたものと検証できました。
                isPublished:Boolean,
                commentIds:Array,
                author:Object,
                callback:Function,
                contactsPromise:Promise
            },
            template:`
            <div>
                <h3>{{propC}}</h3>
            </div>
            `
        })

        //根实例
        new Vue({
            el:"#mydiv",
            data:{
                likes:2,
            },
        })
    </script>
</body>
</html>